<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UABC Entrance Exam</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <button class="sidebar-toggle" id="sidebarToggle">â˜°</button>

    <div class="sidebar" id="sidebar">
        <!-- Este es el botÃ³n de usuario en la barra de navegaciÃ³n que queremos modificar -->
        <a href="#" id="userBtn" class="user-btn">US</a>
        <div class="divider"></div>
        <a href="/" class="exam-btn home-btn">ğŸ  PÃ¡gina Principal</a>
        <a href="Examen_mate.html" class="exam-btn math-btn">ğŸ“ğ™€ğ™­ğ™–ğ™¢ğ™šğ™£ ğ™™ğ™š ğ™¢ğ™–ğ™©ğ™šğ™¢ğ™–ğ™©ğ™ğ™˜ğ™–ğ™¨</a>
        <a href="Examen_Lenguaje.html" class="exam-btn language-btn">ğŸ“–ğ—˜ğ˜…ğ—®ğ—ºğ—²ğ—» ğ—±ğ—² ğ—¹ğ—²ğ—»ğ—´ğ˜‚ğ—®ğ—·ğ—²</a>
        <a href="Examen_Ciencias.html" class="exam-btn science-btn">ğŸ§ªğ—˜ğ˜…ğ—®ğ—ºğ—²ğ—» ğ—±ğ—² ğ—°ğ—¶ğ—²ğ—»ğ—°ğ—¶ğ—®ğ˜€</a>
        <!-- Este botÃ³n mantendrÃ¡ su funcionalidad de logout -->
        <a href="#" id="logoutBtnSidebar" class="exam-btn logout-btn">ğŸšª Cerrar SesiÃ³n</a>
    </div>
    
    <!--Logic of the side bar-->
    <script>
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.getElementById('sidebar');
        const mainContent = document.getElementById('mainContent');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            if (mainContent) mainContent.classList.toggle('shifted');
            
            // Cambiar el Ã­cono del botÃ³n
            if (sidebar.classList.contains('active')) {
                sidebarToggle.innerHTML = 'âœ•';
                sidebarToggle.style.left = '260px'; // Mover el botÃ³n con el sidebar
            } else {
                sidebarToggle.innerHTML = 'â˜°';
                sidebarToggle.style.left = '10px';
            }
        });
    </script>
    
    <div class="user-profile">
        <div class="user-avatar" id="userAvatar">US</div>
        <div class="user-name">Usuario Estudiante</div>
        <div class="user-email">usuario@ejemplo.com</div>
        <!-- Este botÃ³n mantendrÃ¡ su funcionalidad de logout -->
        <button id="logoutBtn" class="logout-button">Cerrar SesiÃ³n</button>
    </div>
    
    <div class="progress-container">
        <div class="progress-title">
            <span>
                <span class="subject-icon">ğŸ“</span>
                Progreso de MatemÃ¡ticas
            </span>
            <span class="progress-percent">0%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill math-progress" style="width: 0%"></div>
        </div>
    </div>
    
    <div class="progress-container">
        <div class="progress-title">
            <span>
                <span class="subject-icon">ğŸ“–</span>
                Progreso de Lenguaje
            </span>
            <span class="progress-percent">0%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill language-progress" style="width: 0%"></div>
        </div>
    </div>
    
    <div class="progress-container">
        <div class="progress-title">
            <span>
                <span class="subject-icon">ğŸ”¬</span>
                Progreso de Ciencias
            </span>
            <span class="progress-percent">0%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill science-progress" style="width: 0%"></div>
        </div>
    </div>
    
    <div class="progress-container total-container">
        <div class="progress-title">
            <span class="total-title">
                <span class="subject-icon">ğŸ†</span>
                Progreso Total
            </span>
            <span class="progress-percent total-percent">0%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill total-progress" style="width: 0%"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="auth.js"></script>
    <script src="user-progress.js"></script>
    <script src="ai-tutor.js"></script>
    
    <script>
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded, setting up buttons');
        
        // Solo modificaremos el botÃ³n de usuario en la barra de navegaciÃ³n
        setupUserNavButton();
    });
    
    // FunciÃ³n para configurar Ãºnicamente el botÃ³n de usuario en la barra de navegaciÃ³n
    function setupUserNavButton() {
        // Obtener el botÃ³n de usuario en la barra de navegaciÃ³n
        const userBtn = document.getElementById('userBtn');
        
        // Verificar si el botÃ³n existe y agregar el event listener
        if (userBtn) {
            console.log('BotÃ³n de usuario en la barra de navegaciÃ³n encontrado, configurando redirecciÃ³n a exam.html');
            
            // Eliminar cualquier event listener existente clonando el elemento
            const newUserBtn = userBtn.cloneNode(true);
            userBtn.parentNode.replaceChild(newUserBtn, userBtn);
            
            // Agregar nuevo event listener para redirigir a exam.html
            newUserBtn.addEventListener('click', function(e) {
                console.log('BotÃ³n de usuario en la barra de navegaciÃ³n clickeado, redirigiendo a exam.html');
                e.preventDefault();
                window.location.href = 'exam.html';
            });
        } else {
            console.warn('BotÃ³n de usuario en la barra de navegaciÃ³n no encontrado');
        }
        
        // Mantener la funciÃ³n original para el cierre de sesiÃ³n
        // No modificamos los botones de cerrar sesiÃ³n
    }
    </script>
</body>
</html>